<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Fe y Vida PY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Montserrat', sans-serif; }
        .hero-bg {
            background-image: linear-gradient(rgba(0, 51, 102, 0.85), rgba(0, 51, 102, 0.7)), url('https://images.unsplash.com/photo-1478737270239-2f02b77ac6d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .7; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- Navegación -->
    <nav class="bg-white shadow-md fixed w-full z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="bg-blue-900 text-white p-2 rounded-full">
                    <i class="fas fa-dove"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-blue-900 leading-none">RADIO FE Y VIDA</h1>
                    <span class="text-xs text-yellow-600 font-semibold tracking-wider">PARAGUAY</span>
                </div>
            </div>
            
            <div class="hidden md:flex space-x-6 font-medium text-gray-600">
                <a href="#inicio" class="hover:text-blue-900 transition">Inicio</a>
                <a href="#programacion" class="hover:text-blue-900 transition">Programación</a>
                <a href="#estudios" class="hover:text-blue-900 transition text-blue-800 font-bold">Estudios Bíblicos</a>
                <a href="#contacto" class="bg-blue-900 text-white px-4 py-2 rounded-full hover:bg-blue-800 transition">Pedidos de Oración</a>
            </div>
            <button class="md:hidden text-blue-900 text-2xl" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="inicio" class="hero-bg h-screen flex items-center justify-center text-center text-white px-4 pt-16">
        <div class="max-w-3xl">
            <span class="bg-yellow-500 text-blue-900 px-3 py-1 rounded-full text-sm font-bold mb-4 inline-block uppercase tracking-wider">En vivo desde Paraguay</span>
            <h2 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">Llevando la palabra de esperanza a tu corazón</h2>
            
            <div class="flex flex-col items-center gap-4">
                <button id="main-play-btn" onclick="togglePlayRadio()" class="bg-white text-blue-900 text-lg font-bold py-4 px-10 rounded-full shadow-lg hover:bg-yellow-500 hover:text-white transition transform hover:scale-105 flex items-center mx-auto gap-3">
                    <i id="hero-play-icon" class="fas fa-play"></i>
                    <span id="hero-play-text">ESCUCHAR RADIO</span>
                </button>
                <div id="status-tag" class="hidden flex items-center gap-2 bg-blue-900/50 px-4 py-2 rounded-full border border-blue-400">
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    <span class="text-xs font-bold uppercase tracking-widest text-white" id="connection-status">CONECTANDO</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Programación -->
    <section id="programacion" class="py-16 bg-white">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold text-blue-900 mb-8">Nuestra Programación</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-gray-50 p-6 rounded-xl border-t-4 border-blue-900">
                    <p class="text-yellow-600 font-bold">06:00 - 09:00</p>
                    <h4 class="text-xl font-bold">Despertar con Fe</h4>
                    <p class="text-gray-500 italic">Lectura bíblica y alabanzas.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl border-t-4 border-yellow-500">
                    <p class="text-yellow-600 font-bold">14:00 - 17:00</p>
                    <h4 class="text-xl font-bold">Tardes de Adoración</h4>
                    <p class="text-gray-500 italic">Música para el alma.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl border-t-4 border-blue-900">
                    <p class="text-yellow-600 font-bold">20:00 - 22:00</p>
                    <h4 class="text-xl font-bold">Clamor al Altísimo</h4>
                    <p class="text-gray-500 italic">Momentos de intercesión.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Estudios Bíblicos -->
    <section id="estudios" class="py-16 bg-blue-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h3 class="text-3xl font-bold text-blue-900">Estudios Bíblicos</h3>
                <p class="text-gray-600">Palabra grabada para tu edificación personal.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-900">
                    <span class="text-blue-800 font-bold text-sm uppercase">Familia</span>
                    <h4 class="text-lg font-bold mt-2">Valores en el Hogar</h4>
                    <button class="mt-4 text-blue-900 flex items-center gap-2 font-bold hover:text-yellow-600">
                        <i class="fas fa-play-circle text-2xl"></i> ESCUCHAR AHORA
                    </button>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-900">
                    <span class="text-blue-800 font-bold text-sm uppercase">Vida Cristiana</span>
                    <h4 class="text-lg font-bold mt-2">La Armadura de Dios</h4>
                    <button class="mt-4 text-blue-900 flex items-center gap-2 font-bold hover:text-yellow-600">
                        <i class="fas fa-play-circle text-2xl"></i> ESCUCHAR AHORA
                    </button>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-900">
                    <span class="text-blue-800 font-bold text-sm uppercase">Esperanza</span>
                    <h4 class="text-lg font-bold mt-2">Paz en la Tormenta</h4>
                    <button class="mt-4 text-blue-900 flex items-center gap-2 font-bold hover:text-yellow-600">
                        <i class="fas fa-play-circle text-2xl"></i> ESCUCHAR AHORA
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Sticky Player -->
    <div id="sticky-player" class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-50 transform translate-y-full transition-transform duration-300">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-900 rounded-full flex items-center justify-center text-white">
                   <i class="fas fa-broadcast-tower animate-pulse"></i>
                </div>
                <div>
                    <div class="text-blue-900 font-bold text-sm leading-tight">Radio Fe y Vida</div>
                    <div class="text-xs text-gray-500 uppercase tracking-widest">En Vivo</div>
                </div>
            </div>
            <button onclick="togglePlayRadio()" class="w-12 h-12 rounded-full bg-yellow-500 text-blue-900 flex items-center justify-center hover:bg-yellow-400 shadow-md transition text-xl">
                <i id="player-icon" class="fas fa-play ml-1"></i>
            </button>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="radio-stream" crossorigin="anonymous"></audio>

    <script>
        const audio = document.getElementById('radio-stream');
        const playText = document.getElementById('hero-play-text');
        const playIcon = document.getElementById('hero-play-icon');
        const statusTag = document.getElementById('status-tag');
        const statusText = document.getElementById('connection-status');
        const stickyPlayer = document.getElementById('sticky-player');
        const playerIcon = document.getElementById('player-icon');
        
        let isPlaying = false;

        // NUEVA ESTRATEGIA: URL de Stream directo con protocolo Shoutcast compatible
        // Si tienes una URL propia de "Direct Link" en el panel, cámbiala aquí.
        const streamUrl = "http://82.145.63.6:8000/stream?type=http";

        function togglePlayRadio() {
            if (!isPlaying) {
                startRadio();
            } else {
                stopRadio();
            }
        }

        function startRadio() {
            statusTag.classList.remove('hidden');
            statusText.innerText = "SINTONIZANDO...";
            
            // Forzar recarga
            audio.src = streamUrl + "&nocache=" + Date.now();
            
            audio.play().then(() => {
                isPlaying = true;
                statusText.innerText = "AL AIRE - EN VIVO";
                playText.innerText = "DETENER RADIO";
                playIcon.className = "fas fa-pause";
                playerIcon.className = "fas fa-pause";
                stickyPlayer.classList.remove('translate-y-full');
            }).catch(err => {
                console.error("Error:", err);
                statusText.innerText = "BLOQUEADO POR NAVEGADOR";
                showSecurityFix();
            });
        }

        function showSecurityFix() {
            const modal = document.createElement('div');
            modal.id = 'security-modal';
            modal.className = 'fixed inset-0 bg-blue-900 bg-opacity-95 z-[200] flex items-center justify-center p-6 text-white text-center';
            modal.innerHTML = `
                <div class="max-w-md">
                    <i class="fas fa-unlock-alt text-5xl text-yellow-500 mb-4"></i>
                    <h3 class="text-2xl font-bold mb-4">Permitir la Radio</h3>
                    <p class="mb-6">Tu navegador bloquea el audio porque el servidor de radio es HTTP. Para solucionarlo:</p>
                    <div class="bg-blue-800 p-4 rounded-lg text-left text-sm mb-6">
                        <p class="mb-2">1. Haz clic en el <b>Candado</b> junto a la dirección arriba.</p>
                        <p>2. Busca <b>Configuración del sitio</b> y cambia <b>"Contenido no seguro"</b> a <b>Permitir</b>.</p>
                    </div>
                    <button onclick="window.location.reload()" class="w-full bg-yellow-500 text-blue-900 font-bold py-3 rounded-lg mb-3">YA LO HICE, RECARGAR</button>
                    <a href="http://82.145.63.6:8000/stream" target="_blank" class="block w-full bg-white text-blue-900 font-bold py-3 rounded-lg">ESCUCHAR EN PESTAÑA EXTERNA</a>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function stopRadio() {
            audio.pause();
            audio.src = "";
            isPlaying = false;
            statusTag.classList.add('hidden');
            playText.innerText = "ESCUCHAR RADIO";
            playIcon.className = "fas fa-play";
            playerIcon.className = "fas fa-play ml-1";
            stickyPlayer.classList.add('translate-y-full');
        }
    </script>
</body>
</html>